seed: 0
device: auto

dataset:
  name: FB15k-237
  source: hf                # "hf" uses ðŸ¤— Datasets
  hf_name: KGraph/FB15k-237
  hf_revision: null
  filtered_eval: true

data:
  neg_size: 64
  train_bs: 1024
  test_bs: 128
  num_workers: 4

model:
  name: RotatE
  base_dim: 512            # max croppable base-d
  gamma: 12.0

med:
  enabled: true
  dims: [128, 256, 512]    # sub-model dims (front-sliced)
  submodels_per_step: 3    # sample neighbor set each step

optim:
  name: Adam
  lr: 0.0005
  weight_decay: 0.0
  betas: [0.9, 0.999]
  grad_clip: 1.0

sched:
  name: linear
  warmup_steps: 1000
  total_steps: 0           # 0 => epochs * steps_per_epoch

train:
  epochs: 100
  log_every: 100
  eval_every: 2000
  save_every: 2000
  out_dir: ./workdir/runs/fb15k237/med_rotatE
  save_best_metric: MRR
