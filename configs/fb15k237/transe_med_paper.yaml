seed: 42
device: auto

dataset:
  name: FB15k-237
  source: hf
  hf_name: KGraph/FB15k-237
  filtered_eval: true
  prefer_ids: true

data:
  neg_size: 64
  train_bs: 1024
  test_bs: 128
  num_workers: 4

model:
  name: TransE
  base_dim: 640        # full croppable dim
  gamma: 12.0          # common TransE margin

med:
  enabled: true
  dims: [10,20,30,40,50,60,70,80,90,100,110,120,130,140,150,160,170,180,190,200,
         210,220,230,240,250,260,270,280,290,300,310,320,330,340,350,360,370,380,390,400,
         410,420,430,440,450,460,470,480,490,500,510,520,530,540,550,560,570,580,590,600,610,620,630,640]
  submodels_per_step: 8

optim:
  name: adam
  lr: 0.001            # within {1e-4, 5e-4, 1e-3, 1e-2}
  weight_decay: 0.0
  grad_clip: 0.0

sched:
  name: linear         # linear decay to 0
  total_steps: 0       # computed as epochs * steps_per_epoch
  warmup_steps: 0

train:
  epochs: 3000
  log_every: 100
  eval_every: 1000
  save_every: 2000
  save_best_metric: MRR

out:
  dir: ./workdir/runs/fb15k237/transe_med_paper
